if(PROXY_BUILDING_WITH_MODULE)
  add_executable($NAME$ code_2.cpp)
  
  target_link_libraries($NAME$ msft_proxy::module)
  target_compile_features($NAME$ PRIVATE cxx_std_20)

  target_sources($NAME$ PRIVATE
    FILE_SET CXX_MODULES
    FILES code_1.cpp
  )

  if (MSVC)
    target_compile_options($NAME$ PRIVATE /W4)
  elseif(CMAKE_CXX_COMPILER_ID STREQUAL "Clang")
    target_compile_options($NAME$ PRIVATE -Wall -Wextra -Wpedantic -Wno-c++2b-extensions)
  else()
    target_compile_options($NAME$ PRIVATE -Wall -Wextra -Wpedantic)
  endif()

endif()
